// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

enum TransactionType {
  income
  expense
  other
}

model PoliticalOrganization {
  id           Int           @id @default(autoincrement())
  name         String
  description  String?
  createdAt    DateTime      @default(now()) @map("created_at")
  updatedAt    DateTime      @updatedAt @map("updated_at")
  transactions Transaction[]

  @@map("political_organizations")
}

model Transaction {
  id                      Int                  @id @default(autoincrement())
  politicalOrganizationId Int                  @map("political_organization_id")
  politicalOrganization   PoliticalOrganization @relation(fields: [politicalOrganizationId], references: [id], onDelete: Cascade)
  transactionNo           String?              @unique @map("transaction_no")
  transactionDate         DateTime             @map("transaction_date")
  financialYear           Int                  @map("financial_year")
  transactionType         TransactionType      @map("transaction_type")
  debitAccount            String               @map("debit_account")
  debitSubAccount         String?              @map("debit_sub_account")
  debitDepartment         String?              @map("debit_department")
  debitPartner            String?              @map("debit_partner")
  debitTaxCategory        String?              @map("debit_tax_category")
  debitAmount             Decimal              @map("debit_amount")
  creditAccount           String               @map("credit_account")
  creditSubAccount        String?              @map("credit_sub_account")
  creditDepartment        String?              @map("credit_department")
  creditPartner           String?              @map("credit_partner")
  creditTaxCategory       String?              @map("credit_tax_category")
  creditAmount            Decimal              @map("credit_amount")
  description             String?
  description1            String?              @map("description_1")
  description2            String?              @map("description_2")
  description3            String?              @map("description_3")
  descriptionDetail       String?              @map("description_detail")
  createdAt               DateTime             @default(now()) @map("created_at")
  updatedAt               DateTime             @updatedAt @map("updated_at")

  @@map("transactions")
}
